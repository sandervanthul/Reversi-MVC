class FeedbackWidget{_key="feedback_widget";constructor(e){this._elementId=e}get elementId(){return this._elementId}show(e,t){document.getElementsByClassName("widget__bericht__text")[0].innerHTML=e,$("#"+this._elementId).removeClass("widget-hidden"),$("#"+this._elementId).addClass("widget-show"),this.log({message:e,type:t})}hide(){$("#"+this._elementId).removeClass("widget-show"),$("#"+this._elementId).addClass("widget-hidden")}log(e){let t=JSON.parse(localStorage.getItem(this._key))??[];10<=t.length&&t.splice(0,1),t.push(e),localStorage.setItem(this._key,JSON.stringify(t))}static removeLog(){localStorage.removeItem(this._key)}history(){let e=JSON.parse(localStorage.getItem(this._key)),t="";e.forEach(e=>{t+=`<type: ${e.type}> - <berichttekst:${e.message}> <"
">`}),this.show(t,"success")}}$(function(){let e=new FeedbackWidget("feedback-success");$("#ok").on("click",function(){e.show("Speler wil deelnemen aan jouw spel. Geef akkoord.","success")}),$("#close").on("click",function(){e.hide()})});
const Game=(()=>{let t={gameState:""};return{init:function(e){setInterval(()=>{Game.Model.getGameState(1),t.gameState=""},2e3),Game.Reversi.init(),e()}}})();Game.Reversi={init:function(){},placeChip:function(e,t){Game.API.doeZet(e,t)}},Game.Data=(()=>{let a={apiKey:"aa6bb372c0ccba60aff08f3c0b3cf922",mock:[{url:"api/Spel/Beurt",data:0}]},o={environment:"development"};return{configmap:a,init:function(e){if("development"!==e||"production"!==e)throw new Error('This environment state does not exist (accepted states are: "production" and "development")');this._stateMap.environment=e,this.get(url)},get:function(e){if("development"!==o.environment)return $.get(e).then(e=>e).catch(e=>{console.log(e.message)});{var t=e;const n=a.mock.filter(e=>e.url===t).data;return new Promise((e,t)=>{e(n)})}}}})(),Game.Model={init:function(){},getWeather:function(){var e="http://api.openweathermap.org/data/2.5/weather?q=will&APPID="+Game.Data.configMap.apiKey;Game.Data.get(e).then(e=>{if(!e?.main?.temp)throw new Error("No temperature found");console.log(e)}).catch(e=>{console.error(e.message)})},getGameState:async function(e){e=await Game.Data.get("/api/Spel/Beurt/"+e);return e}},Game.Template={parseTemplate:function(e,t){return(0,spa_templates.templates[e])(t)}},Game.API=(()=>{let n={spelToken:0,spelerToken:0};return{init:function(e,t){n.spelToken=e,n.spelerToken=t,console.log(n.spelToken+" "+n.spelerToken)},doeZet:function(e,t){$.ajax({url:`/api/Spel/Zet/${e}/`+t,type:"PUT",contentType:"application/json",data:JSON.stringify({spelerToken:""+n.spelerToken,spelToken:""+n.spelToken}),success:function(e){console.log("Zet goed")}})}}})();